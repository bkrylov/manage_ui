<div class="container">
    <h2>OneSearch Errors</h2>

    <tabset ng-if="dataProcessed">
        <tab ng-repeat="tab in tabs" heading="{{tab.name}}" active="tab.active">
            <div ng-if="tab.number == 0">
                <div error-graph errors="errors" range="today"></div>
            </div>
            <div ng-if="tab.number == 1" >
                <div error-graph errors="errors" range="month"></div>
            </div>
            <div ng-if="tab.number == 2" >
                <div error-graph errors="errors" range="year"></div>
            </div>
        </tab>
    </tabset>
    <table class="table-colors">
        <tr>
            <td class="table-ebsco"></td>
            <td>EBSCO API errors</td>
        </tr>
        <tr>
            <td class="table-catalog"></td>
            <td>Catalog API errors</td>
        </tr>
        <tr>
            <td class="table-eJournals"></td>
            <td>Serial Solutions eJournals errors</td>
        </tr>
    </table>

    <h3>Detailed Error List</h3>
    <div class="btn-group">
        <label class="btn btn-primary" ng-model="engine" uib-btn-radio="0">EBSCO</label>
        <label class="btn btn-primary" ng-model="engine" uib-btn-radio="1">Catalog</label>
        <label class="btn btn-primary" ng-model="engine" uib-btn-radio="2">eJournals</label>
    </div>
    <div class="row" ng-repeat="year in errors.tree[engine].years">
        <h4><a ng-click="year.open = !year.open">{year.name}}</a><small>{{year.counter}}</small></h4>
        <div class="col-xs-12" ng-repeat="month in year.months" ng-if="year.open">
            <h5><a ng-click="month.open = !month.open">{month.name}}</a><small>{{month.counter}}</small></h5>
            <div class="col-xs-12" ng-repeat="day in month.days" ng-if="month.open">
                <h6><a ng-click="day.open = !day.open">{day.day}}</a><small>{{day.counter}}</small></h6>
                <span class="label label-info" ng-repeat="error in day.errors" ng-if="day.open">
                    {{error}}
                </span>
            </div>
        </div>
    </div>
</div>